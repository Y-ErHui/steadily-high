[TOC]

# 08-01

### 1. 理解 `shouldComponentUpdate`

* 这个 react 生命周期钩子函数用来解决这个问题：

  在更新数据的时候用 `setState` 修改整个数据，数据变了之后，遍历的时候所有内容都 要被重新渲染，数据量少还好，数据量大就会严重影响性能

* 解决办法：

  1. `shouldcomponentupdate` 在渲染前判断组件是否更新，更新了再渲染
  2. `purecomponent`（纯组件）省去了虚拟 DOM 生成和对比的过程，在类组件中使用
  3. `react.memo()` 类似于纯组件，在无状态组件中使用



# 08-02

### 2. React `diff` 原理

* 基于三个策略： 

  1. tree diff

     Web UI 中 DOM 节点跨层级的移动操作特别少，可以忽略不计

  2. component diff

     拥有相同类的两个组件将会生成相似的树形结构，拥有不同类的两个组件会生成不同的树形结构

  3. element diff

     对于同一层级的一组子节点，他们可以通过唯一的 ID 进行区分 何为受控组件

* React 负责渲染表单的组件，值是来自于 `state` 控制的，输入表单元素称为受控组件